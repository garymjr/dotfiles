# Session Log - February 14, 2026

## Skill Work: Weather Scraper (Kody Colorado Forecast)

- Created `skills/weather/scripts/kody_colorado_forecast.py` to scrape `https://kodythewxguy.com/colorado-daily-weather-forecast/`.
- Implemented extraction for:
  - `datePublished` timestamp
  - Forecast date heading (`h2`)
  - Forecast headline (`h3`)
  - Forecast paragraphs (with optional promotional filtering)
  - Forecast image URLs
- Added CLI options: `--json`, `--max-paragraphs`, `--include-promotional`, `--timeout`, `--url`.
- Updated `skills/weather/SKILL.md` to make the scraper the primary workflow and kept wttr.in commands as fallback.
- Verified live scraping works in both text and JSON modes.

### Important quirk discovered

- The site returns HTTP 403 to Python `urllib` when using a full Chrome-like User-Agent string.
- It succeeds with a minimal `User-Agent: Mozilla/5.0`.
- Script now uses that minimal UA for reliability.

## Heartbeat Update: Daily Kody Forecast Policy

- Updated `HEARTBEAT.md` weather section to require Kody forecast scraping exactly once per local date (MST).
- Added explicit once-daily marker policy using `KODY_FORECAST_DONE: YYYY-MM-DD` in `memory/YYYY-MM-DD.md`.
- Set preferred run window to morning (05:00-11:59 MST), with first post-noon heartbeat fallback if missed.
- Required brief forecast summary in Telegram update (date, headline, 1-2 key points).
- Added fallback behavior: if scraper fails, report failure and use wttr.in conditions only.
